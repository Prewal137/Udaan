<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teacher / Parent Signup</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-start:#e8f1ff;
      --bg-end:#f7fbff;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --border:#e5e7eb;
      --input-bg:#ffffff;
      --focus:#4A90E2;
      --primary:#3b82f6;
      --primary-dark:#2563eb;
      --shadow:0 24px 60px rgba(2,6,23,0.10);
      --link:#2563eb;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:radial-gradient(1100px 700px at 20% 10%, var(--bg-start) 0%, var(--bg-end) 60%, #fff 100%);
    }

    .viewport{min-height:100vh;display:grid;place-items:center;padding:28px}
    .card{width:100%;max-width:820px;background:var(--card);border-radius:18px;box-shadow:var(--shadow);padding:44px}

    .title{margin:0 0 6px 0;font-weight:800;font-size:30px;color:#0b2451}
    .subtitle{margin:0 0 22px 0;color:var(--muted)}

    .flash{list-style:none;padding:0;margin:0 0 14px 0}
    .flash li{background:#eef6ff;color:#0b2451;border:1px solid #cfe6ff;padding:10px 12px;border-radius:8px}

    form{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .full{grid-column:1/-1}

    label{display:block;font-weight:600;font-size:14px;color:#334155;margin-bottom:6px}
    input,select{width:100%;background:var(--input-bg);border:1px solid var(--border);border-radius:10px;padding:14px 14px;font-size:15px;color:var(--text);transition:border-color .2s ease, box-shadow .2s ease}
    input::placeholder{color:#9aa6b2}
    input:focus,select:focus{outline:none;border-color:var(--focus);box-shadow:0 0 0 3px rgba(74,144,226,0.18)}

    .password-wrap{position:relative}
    .toggle-pw{position:absolute;right:12px;top:50%;transform:translateY(-50%);border:none;background:transparent;cursor:pointer;color:#475569;font-weight:700}

    .terms{grid-column:1/-1;display:flex;align-items:center;gap:10px;color:#334155}
    .terms a{color:var(--link);text-decoration:none}
    .terms a:hover{text-decoration:underline}

    .btn-primary{grid-column:1/-1;appearance:none;border:none;border-radius:12px;padding:14px 18px;font-weight:800;font-size:16px;color:#fff;cursor:pointer;background:linear-gradient(90deg,var(--primary),var(--primary-dark));box-shadow:0 12px 28px rgba(37,99,235,0.24);transition:filter .2s ease, transform .15s ease}
    .btn-primary:hover{filter:brightness(1.05);transform:translateY(-1px)}

    .foot{text-align:center;margin-top:14px}
    .foot a{color:var(--link);text-decoration:none;font-weight:700}
    .foot a:hover{text-decoration:underline}

    @media (max-width: 860px){
      .card{padding:32px}
      form{grid-template-columns:1fr}
      .btn-primary{grid-column:auto}
    }
  </style>
</head>
<body>
  <div class="viewport">
    <div class="card">
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <ul class="flash">
            {% for msg in messages %}<li>{{ msg }}</li>{% endfor %}
          </ul>
        {% endif %}
      {% endwith %}

      <h2 class="title">Create Your Account</h2>
      <p class="subtitle">Join our platform as Teacher or Parent</p>

      <form id="teacherSignupForm" method="POST" action="{{ url_for('signup_teacher') }}" onsubmit="return prepareAndValidate()">
        <input type="hidden" name="name" id="hiddenName">

        <div>
          <label for="firstName">First Name</label>
          <input id="firstName" type="text" placeholder="First Name" required>
        </div>
        <div>
          <label for="lastName">Last Name</label>
          <input id="lastName" type="text" placeholder="Last Name" required>
        </div>

        <div>
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="Email" required>
        </div>
        <div>
          <label for="phone">Phone Number</label>
          <input id="phone" name="phone" type="tel" placeholder="Phone Number">
        </div>

        <div class="password-wrap">
          <label for="password_input_t">Password</label>
          <input id="password_input_t" type="password" name="password" placeholder="Password" required>
          <button class="toggle-pw" type="button" aria-label="Show password" onclick="togglePw('password_input_t', this)">üëÅ</button>
        </div>
        <div class="password-wrap">
          <label for="confirmPassword">Confirm Password</label>
          <input id="confirmPassword" type="password" placeholder="Confirm Password" required>
          <button class="toggle-pw" type="button" aria-label="Show password" onclick="togglePw('confirmPassword', this)">üëÅ</button>
        </div>

        <label class="terms">
          <input id="terms" type="checkbox" required>
          I agree the <a href="#">Terms & Privacy Policy</a>.
        </label>

        <button type="submit" class="btn-primary">Sign Up</button>
      </form>

      <div class="foot">
        <div>Already have an account? <a href="{{ url_for('login_teacher') }}">Login</a></div>
        <div style="margin-top:6px;"><a href="{{ url_for('index') }}">Back</a></div>
      </div>
    </div>
  </div>

  <script>
    function togglePw(id, btn){
      const el = document.getElementById(id);
      if(el.type === 'password'){
        el.type = 'text';
        btn.textContent = 'üôà';
        btn.setAttribute('aria-label','Hide password');
      } else {
        el.type = 'password';
        btn.textContent = 'üëÅ';
        btn.setAttribute('aria-label','Show password');
      }
    }
    function prepareAndValidate(){
      const first = document.getElementById('firstName').value.trim();
      const last = document.getElementById('lastName').value.trim();
      document.getElementById('hiddenName').value = [first, last].filter(Boolean).join(' ');

      const pw = document.getElementById('password_input_t').value;
      const cpw = document.getElementById('confirmPassword').value;
      if(pw !== cpw){
        alert('Passwords do not match.');
        return false;
      }
      if(!document.getElementById('terms').checked){
        alert('Please agree to the Terms & Privacy Policy.');
        return false;
      }
      return true;
    }
  </script>
</body>
</html>
